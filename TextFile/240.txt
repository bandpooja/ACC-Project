django - How to resolve the error: TypeError at /signup save() missing 1 required positional argument: 'self' - Stack Overflow
django - How to resolve the error: TypeError at /signup save() missing 1 required positional argument: 'self' - Stack Overflow Stack Overflow About Products For Teams Stack Overflow Public questions & answers Stack Overflow for Teams Where developers & technologists share private knowledge with coworkers Jobs Programming & related technical career opportunities Talent Recruit tech talent & build your employer brand Advertising Reach developers & technologists worldwide About the company Loading… Log in Sign up current community Stack Overflow help chat Meta Stack Overflow your communities Sign up or log in to customize your list. more stack exchange communities company blog Home Public Questions Tags Users Collectives Explore Collectives Find a Job Jobs Companies Teams Stack Overflow for Teams – Collaborate and share knowledge with a private group. Create a free Team What is Teams? Teams Create free Team Collectives on Stack Overflow Find centralized, trusted content and collaborate around the technologies you use most. Learn more Teams Q&A for work Connect and share knowledge within a single location that is structured and easy to search. Learn more How to resolve the error: TypeError at /signup save() missing 1 required positional argument: 'self' Ask Question Asked today Active today Viewed 13 times 1 I'm trying to register users using AbstractUser but I'm getting an error. Although I'm getting error, users still get registered but I can't handle login with the registered users. The error goes thus: The error goes thus: The post request My views.py goes thus: def signup(request):
    if request.method == 'POST':
        first_name = request.POST['first-name']
        last_name = request.POST['last-name']
        username = request.POST['username']
        email = request.POST['email']
        phone_no = request.POST['phone-no']
        password = request.POST['password']
        password2 = request.POST['password2'] 
        
        if password==password2:
            if CustomUser.objects.filter(username=username).exists():
                messages.info(request, 'Username Taken')
                return redirect('signup')
            elif CustomUser.objects.filter(email=email).exists():
                messages.info(request, 'Email Already Exist')
                return redirect('signup')
            else:
                CustomUser.objects.create_user(first_name=first_name, last_name=last_name, username=username, email=email, phone_no=phone_no, password=password)
                CustomUser.save(commit=False)
                return redirect('login')
        else:
            messages.info(request, 'Passwords Not Matching')
            return redirect('signup')
    else:      
        return render(request, 'signup.html')
 And my models.py: class CustomUser(AbstractUser):
    id = models.AutoField(primary_key=True)
    first_name = models.CharField(max_length=100)
    last_name = models.CharField(max_length=100)
    username = models.CharField(max_length=100, unique=True)
    email = models.EmailField(unique=True)
    password = models.CharField(max_length=150)
    phone_no = models.CharField(max_length=20)
    is_end_user = models.BooleanField(default=True)
    is_smart_earner = models.BooleanField(default=False)
    is_top_user = models.BooleanField(default=False)
 django Share Follow asked 4 hours ago Royal_DevsRoyal_Devs 1322 bronze badges New contributor Royal_Devs is a new contributor to this site. Take care in asking for clarification, commenting, and answering. Check out our Code of Conduct. 1 1 Remove the CustomUser.save(commit=False). It makes no sense, the record is created with the create_user(...) method, and you can only .save() model objects. Furthermore .save() does not accept a commit=... parameter. – Willem Van Onsem 4 hours ago Add a comment | 1 Answer 1 Active Oldest Votes 0 Remove the CustomUser.save(commit=False). It makes no sense, the record is created with the .create_user(…) method [Django-doc]. You can only call the .save(…) method [Django-doc] on model objects, since these represent a record in the corresponding table. Using it on the CustomUser class makes not much sense, since it represents a table, and table itself is not altered when creating a record. Furthermore your .save() call uses a parameter commit=…, but that does not make much sense either: the .save(…) of a ModelForm can accept a commit=… parameter, not the one for a Model. I would however advise to work with a ModelForm. Such ModelForm can automatically validate unique fields, and save the created user. Django already has a basic ModelForm for this: the UserCreationForm [Django-doc]. With some small changes, it can likely work for your custom user model. Share Follow edited 3 hours ago answered 3 hours ago Willem Van OnsemWillem Van Onsem 362k2828 gold badges325325 silver badges441441 bronze badges Add a comment | Your Answer Royal_Devs is a new contributor. Be nice, and check out our Code of Conduct. Thanks for contributing an answer to Stack Overflow! Please be sure to answer the question. Provide details and share your research! But avoid … Asking for help, clarification, or responding to other answers. Making statements based on opinion; back them up with references or personal experience. To learn more, see our tips on writing great answers. Draft saved Draft discarded Sign up or log in Sign up using Google Sign up using Facebook Sign up using Email and Password Submit Post as a guest Name Email Required, but never shown Post as a guest Name Email Required, but never shown Post Your Answer Discard By clicking “Post Your Answer”, you agree to our terms of service, privacy policy and cookie policy Not the answer you're looking for? Browse other questions tagged django or ask your own question. The Overflow Blog The four engineering metrics that will streamline your software delivery Podcast 396: Does modern parenting require spyware? Featured on Meta Reducing the weight of our footer Two B or not two B - Farewell, BoltClock and Bhargav! Community input needed: The rules for collectives articles Related 12 Saving form data rewrites the same row 5 custom user registration form in django 1 django models request get id error Room matching query does not exist 1 How to create a password field for a user model in Django? 3 Customer User Authentication error : AttributeError: Manager isn't available; 'auth.User' has been swapped for 'user_management.CustomUser' 7 TypeError: save() missing 1 required positional argument: 'self' 1 Passing first_name, last_name to User.objects.create_user() Django 0 model with this Email already exists in django 0 TypeError: save() missing 1 required positional argument: 'self' : DjangoRestframework 0 how to exactly serialize and create of custom user using drf Hot Network Questions How to translate “Wir müssen wissen, wir werden wissen.” into Latin? Hand-to-Hand Combat with Exoskeletons strcat_new() function, not present in standard C library Does the AstraZeneca COVID-19 vaccine (or any known vaccine) increase infection rates? Copy content between floppy disks on Apple II Can I manually reset Cellular network configuration without losing WiFi passwords? What is the difference between /lib and /usr/lib and /var/lib? How can I generate multiple hashes in Mac terminal for multiple files? How to justify burning people for energy? Split list by sequential entries What is the difference between a waiting move and zugzwang? Remove matching lines from all files Why doesn't common investment advice include the idea of pulling out of the market during downturns? Is it ethical to convince someone to get vaccinated? Airflow too strong in one of the registers Is there any means to improve vehicle use other than the artificer's 6th-level Tool Expertise feature? How did the classic Macintosh come to use Eurocard connectors? TERM system environment variable not set - Windows 10 How to treat Copyleft Open Source licenses? How do I email other students in my online classes, to make friends, without appearing creepy? Can Heisenberg's uncertainty principle be used to prove the electron can't exist in the nucleus in this way? Why did cracks form over the rebar grid in my concrete footings? Meaning of 'white mask on my otherwise tan face' Book or story where humans are genetically engineered to act as AI? more hot questions Question feed Subscribe to RSS Question feed To subscribe to this RSS feed, copy and paste this URL into your RSS reader. default Stack Overflow Questions Jobs Developer Jobs Directory Salary Calculator Help Mobile Products Teams Talent Advertising Enterprise Company About Press Work Here Legal Privacy Policy Terms of Service Contact Us Cookie Settings Cookie Policy Stack Exchange Network Technology Culture & recreation Life & arts Science Professional Business API Data Blog Facebook Twitter LinkedIn Instagram site design / logo © 2021 Stack Exchange Inc; user contributions licensed under cc by-sa. rev 2021.11.30.40849 Stack Overflow works best with JavaScript enabled Your privacy By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy. Accept all cookies Customize settings