VMEbus - Wikipedia
VMEbus - Wikipedia VMEbus From Wikipedia, the free encyclopedia Jump to navigation Jump to search Computer bus standard physically based on Eurocard sizes This article includes a list of general references, but it remains largely unverified because it lacks sufficient corresponding inline citations. Please help to improve this article by introducing more precise citations. (April 2009) (Learn how and when to remove this template message) VME64 crate with, from left, an ADC module, a scaler module and a processor module VMEbus (Versa Module Europa[1] or Versa Module Eurocard[2] bus) is a computer bus standard, originally developed for the Motorola 68000 line of CPUs, but later widely used for many applications and standardized by the IEC as ANSI/IEEE 1014-1987. It is physically based on Eurocard sizes, mechanicals and connectors (DIN 41612), but uses its own signalling system, which Eurocard does not define. It was first developed in 1981 and continues to see widespread use today.[3][when?] Contents 1 History 1.1 VME early years 2 Description 3 Development tools 4 Computers using a VMEbus 5 Pinout 6 See also 7 References 8 External links History[edit] In 1979, during development of the Motorola 68000 CPU, one of their engineers, Jack Kister, decided to set about creating a standardized bus system for 68000-based systems.[4] The Motorola team brainstormed for days to select the name VERSAbus. VERSAbus cards were large, 370 by 230 mm (14+1?2 by 9+1?4 in), and used edge connectors.[3] Only a few products adopted it, including the IBM System 9000 instrument controller and the Automatix robot and machine vision systems. VERSAbus memory card Kister was later joined by John Black, who refined the specifications and created the VERSAmodule product concept. A young engineer working for Black, Julie Keahey designed the first VERSAmodule card, the VERSAbus Adaptor Module, used to run existing cards on the new VERSAbus. Sven Rau and Max Loesel of Motorola-Europe added a mechanical specification to the system, basing it on the Eurocard standard that was then late in the standardization process. The result was first known as VERSAbus-E but was later renamed to VMEbus, for VERSAmodule Eurocard bus (although some refer to it as Versa Module Europa).[3] At this point, a number of other companies involved in the 68000's ecosystem agreed to use the standard, including Signetics, Philips, Thomson, and Mostek. Soon it was officially standardized by the IEC as the IEC 821 VMEbus and by ANSI and IEEE as ANSI/IEEE 1014-1987. The original standard was a 16-bit bus, designed to fit within the existing Eurocard DIN connectors. However, there have been several updates to the system to allow wider bus widths. The current VME64 includes a full 64-bit bus in 6U-sized cards and 32-bit in 3U cards. The VME64 protocol has a typical performance of 40 MB/s.[3] Other associated standards have added hot-swapping (plug-and-play) in VME64x, smaller 'IP' cards that plug into a single VMEbus card, and various interconnect standards for linking VME systems together. In the late 1990s, synchronous protocols proved to be favourable. The research project was called VME320. The VITA Standards Organization called for a new standard for unmodified VME32/64 backplanes.[3] The new 2eSST protocol was approved in ANSI/VITA 1.5 in 1999. Over the years, many extensions have been added to the VME interface, providing 'sideband' channels of communication in parallel to VME itself. Some examples are IP Module, RACEway Interlink, SCSA, Gigabit Ethernet on VME64x Backplanes, PCI Express, RapidIO, StarFabric and InfiniBand. VMEbus was also used to develop closely related standards, VXIbus and VPX. The VMEbus had a strong influence on many later computer buses such as STEbus. VME early years[edit] The architectural concepts of the VMEbus are based on VERSAbus,[3] developed in the late 1970s by Motorola. Motorola's European Microsystems group in Munich, West Germany, proposed the development of a VERSAbus-like product line based on the Eurocard mechanical standard. To demonstrate the concept, Max Loesel and Sven Rau developed three prototype boards: (1) a 68000 CPU board; (2) a dynamic memory board; (3) a static memory board. They named the new bus VERSAbus-E. This was later renamed "VME", short for Versa Module European, by Lyman (Lym) Hevle, then a VP with the Motorola Microsystems Operation. (He was later the founder of the VME Marketing Group, itself subsequently renamed to VME International Trade Association, or VITA). In early 1981, Motorola, Mostek and Signetics agreed to jointly develop and support the new bus architecture. These companies were all early supporters of the 68000 microprocessor family. John Black of Motorola, Craig MacKenna of Mostek and Cecil Kaplinsky of Signetics developed the first draft of the VMEbus specification. In October 1981, at the System '81 trade show in Munich, West Germany, Motorola, Mostek, Signetics/Philips, and Thomson CSF announced their joint support of the VMEbus. They also placed Revision A of the specification in the public domain. In August 1982, Revision B of the VMEbus specification was published by the newly formed VMEbus Manufacturers' Group (VITA). This new revision refined the electrical specifications for the signal line drivers and receivers and brought the mechanical specification further in line with the developing IEC 297 standard (the formal specification for Eurocard mechanical formats). In latter 1982, the French delegation of the International Electrotechnical Commission (IEC) proposed Revision B of the VMEbus as an international standard. The IEC SC47B subcommittee nominated Mira Pauker of Philips, France, the chairperson of an editorial committee, thus formally starting international standardization of the VMEbus. In March 1983, the IEEE Microprocessor Standards Committee (MSC) requested authorization to establish a working group that could standardize the VMEbus in the US. This request was approved by the IEEE Standards Board and the P1014 Working Group was established. Wayne Fischer was appointed first chairman of the working group. John Black served as chairman of the P1014 Technical Subcommittee. The IEC, IEEE and VMEbus Manufacturers Group (now VITA) distributed copies of Revision B for comment and received the resulting requests for changes to the document. These comments made it clear that it was time to go past Revision B. In December 1983, a meeting was held that included John Black, Mira Pauker, Wayne Fischer and Craig MacKenna. It was agreed that a Revision C should be created and that it should take into consideration all the comments received by the three organizations. John Black and Shlomo Pri-Tal of Motorola incorporated the changes from all sources into a common document. The VMEbus Manufacturers Group labelled the document Revision C.1 and placed it in the public domain. The IEEE labelled it P1014 Draft 1.2 and the IEC labelled it IEC 821 Bus. Subsequent ballots in the IEEE P1014 Working Group and the MSC resulted in more comments and required that the IEEE P1014 draft be updated. This resulted in the ANSI/IEEE 1014-1987 specification. In 1985, Aitech developed under contract for US TACOM, the first conduction-cooled 6U VMEbus board. Although electrically providing a compliant VMEbus protocol interface, mechanically, this board was not interchangeable for use in air-cooled lab VMEbus development chassis. In late 1987, a technical committee was formed under VITA under the direction of IEEE to create the first military, conduction-cooled 6U × 160 mm, fully electrically and mechanically compatible, VMEbus board co-chaired by Dale Young (DY4 Systems) and Doug Patterson (Plessey Microsystems, then Radstone Technology). ANSI/IEEE-1101.2-1992 was later ratified and released in 1992 and remains in place as the conduction-cooled, international standard for all 6U VMEbus products. In 1989, John Peters of Performance Technologies Inc. developed the initial concept of VME64: multiplexing address and data lines (A64/D64) on the VMEbus. The concept was demonstrated the same year and placed in the VITA Technical Committee in 1990 as a performance enhancement to the VMEbus specification. In 1991, the PAR (Project Authorization Request) for P1014R (revisions to the VMEbus specification) was granted by the IEEE. Ray Alderman, Technical Director of VITA, co-chaired the activity with Kim Clohessy of DY-4 Systems. At the end of 1992, the additional enhancements to VMEbus (A40/D32, Locked Cycles, Rescinding DTACK*, Autoslot-ID, Auto System Controller, and enhanced DIN connector mechanicals) required more work to complete this document. The VITA Technical Committee suspended work with the IEEE and sought accreditation as a standards developer organization (SDO) with the American National Standards Institute (ANSI). The original IEEE Par P1014R was subsequently withdrawn by the IEEE. The VITA Technical Committee returned to using the public domain VMEbus C.1 specification as their base-level document, to which they added new enhancements. This enhancement work was undertaken entirely by the VITA Technical Committee and resulted in ANSI/VITA 1-1994. The tremendous undertaking of the document editing was accomplished by Kim Clohessy of DY-4 Systems, the technical co-chair of the activity, with great help from Frank Hom who created the mechanical drawings and exceptional contributions by each chapter editor. Additional enhancements proposed to the VME64 Subcommittee were placed in the VME64 Extensions Document. Two other activities began in late 1992: BLLI (VMEbus Board-level Live Insertion Specifications) and VSLI (VMEbus System-level Live Insertion with Fault Tolerance).[3] In 1993, new activities began on the base-VME architecture, involving the implementation of high-speed serial and parallel sub-buses for use as I/O interconnections and data mover subsystems. These architectures can be used as message switches, routers and small multiprocessor parallel architectures. VITA's application for recognition as an accredited standards developer organization of ANSI was granted in June 1993. Numerous other documents ( including mezzanine, P2 and serial bus standards) have been placed with VITA as the Public Domain Administrator of these technologies. Evolution of VME Topology Year Bus cycle Maximum speed (MB/s) VMEbus32 Parallel Bus Rev. A 1981 BLT 40 VMEbus IEEE-1014 1987 BLT 40 VME64 1994 MBLT 80 VME64x 1997 2eVME 160 VME320 1997 2eSST 320 Description[edit] In many ways the VMEbus is equivalent or analogous to the pins of the 68000 run out onto a backplane. However, one of the key features of the 68000 is a flat 32-bit memory model, free of memory segmentation and other "anti-features". The result is that, while VME is very 68000-like, the 68000 is generic enough to make this not an issue in most cases. Like the 68000, VME uses separate 32-bit data and address buses. The 68000 address bus is actually 24-bit and the data bus 16-bit (although it is 32/32 internally) but the designers were already looking towards a full 32-bit implementation. In order to allow both bus widths, VME uses two different Eurocard connectors, P1 and P2. P1 contains three rows of 32 pins each, implementing the first 24 address bits, 16 data bits and all of the control signals. P2 contains one more row, which includes the remaining 8 address bits and 16 data bits. The bus is controlled by a set of nine lines, known as the arbitration bus. All communications are controlled by the card in slot one of the Eurocard chassis, known as the arbiter module. Two arbitration modes are supported - Round Robin and Prioritized. Regardless of the arbitration mode, a card can attempt to become the bus master by holding one of the four Bus Request lines low. With round-robin arbitration, the arbiter cycles amongst Bus Request lines BR0BR3 to determine which of the potentially simultaneous requesters will be granted the bus. With priority arbitration, BR0BR3 use a fixed priority scheme (BR0 lowest, up to BR3 highest) and the arbiter will grant the bus to the highest priority requestor. When the arbiter has determined which of the bus requests to grant, it asserts the corresponding Bus Grant line (BG0BG3) for the level that won bus mastership. If two masters simultaneously request the bus using the same BR line, a bus grant daisy-chain effectively breaks the tie by granting the bus to the module closest to the arbiter. The master granted the bus will then indicate that the bus is in use by asserting Bus Busy (BBSY*). At this point, the master has gained access to the bus. To write data, the card drives an address, an address modifier and data onto the bus. It then drives the address strobe line and the two data strobe lines low, to indicate the data is ready, and drives the write pin to indicate the transfer direction. There are two data strobes and an *LWORD line, so the cards can indicate if the data width is 8, 16, or 32 bits (or 64 in VME64). The card at the bus address reads the data and pulls the data transfer acknowledge low line when the transfer can complete. If the transfer cannot complete, it can pull the bus error line low. Reading data is essentially the same but the controlling card drives the address bus, leaves the data bus tri-stated and drives the read pin. The slave card drives read data onto the data bus and drives the data strobe pins low when the data is ready. The signalling scheme is asynchronous, meaning that the transfer is not tied to the timing of a bus clock pin (unlike synchronous buses such as PCI). A block transfer protocol allows several bus transfers to occur with a single address cycle. In block transfer mode, the first transfer includes an address cycle and subsequent transfers require only data cycles. The slave is responsible for ensuring that these transfers use successive addresses. Bus masters can release the bus in two ways. With Release When Done (RWD), the master releases the bus when it completes a transfer and must re-arbitrate for the bus before every subsequent transfer. With Release On Request (ROR), the master retains the bus by continuing to assert BBSY* between transfers. ROR allows the master to retain control over the bus until a Bus Clear (BCLR*) is asserted by another master that wishes to arbitrate for the bus. Thus a master that generates bursts of traffic can optimize its performance by arbitrating for the bus on only the first transfer of each burst. This decrease in transfer latency comes at the cost of somewhat higher transfer latency for other masters. Address modifiers are used to divide the VME bus address space into several distinct sub-spaces. The address modifier is a 6 bit wide set of signals on the backplane. Address modifiers specify the number of significant address bits, the privilege mode (to allow processors to distinguish between bus accesses by user-level or system-level software), and whether or not the transfer is a block transfer. Below is an incomplete table of address modifiers: Hex Code Function Explanation 3f Standard Supervisory block transfer Block transfer A24, privileged 3e Standard Supervisory Program access A24 instruction access, privileged 3d Standard Supervisor Data Access A24 data access, privileged 3b Standard Non-privileged block transfer A24 block transfer for normal programs 3a Standard Non-privileged Program access A24 instruction access, non-privileged 39 Standard non-privileged Data Access A24 data access, non-privileged 2d Short supervisory Access A16 privileged access. 29 Short non-privileged Access A16 non-privileged access. 0f Extended supervisory Block transfer A32 privileged block transfer. 0e Extended supervisory Program access A32 privileged instruction access. 0d Extended supervisory Data Access. A32 privileged data access. 0b Extended Non-privileged Block transfer A32 non-privileged block transfer. 0a Extended Non-privileged Program access A32 non-privileged instruction access. 09 Extended non-privileged data access. A32 non-privileged data access. Note An as in A16, A24, A32 refers to the width of the address VME also decodes all seven of the 68000's interrupt levels onto a 7-pin interrupt bus. The interrupt scheme is one of prioritized vectored interrupts. The interrupt request lines (IRQ1IRQ7) prioritize interrupts. An interrupting module asserts one of the interrupt request lines. Any module on the bus may potentially handle any interrupt. When an interrupt handling module recognizes an interrupt request at a priority it handles, it arbitrates for the bus in the usual fashion described above. It then performs a read of the interrupt vector by driving the binary version of the IRQ line it handles (e.g. if IRQ5 is being handled, then binary 101) onto the address bus. It also asserts the IACK line, along with the appropriate data transfer strobes for the width of the status/ID being read. Again, LWORD*, DS0* and DS1* allow status/ID read cycles to be 8, 16, or 32 bit wide transfers but most existing hardware interrupters use 8 bit status/IDs. The interrupter responds by transferring a status/ID on the data bus to describe the interrupt. The interrupt handling module (usually a CPU) will usually use this status/ID number to identify and run the appropriate software interrupt service routine. On the VME bus, all transfers are DMA and every card is a master or slave. In most bus standards, there is a considerable amount of complexity added in order to support various transfer types and master/slave selection. For instance, with the ISA bus, both of these features had to be added alongside the existing "channels" model, whereby all communications was handled by the host CPU. This makes VME considerably simpler at a conceptual level while being more powerful, though it requires more complex controllers on each card. Development tools[edit] When developing and/or troubleshooting the VME bus, examination of hardware signals can be very important. Logic analyzers and bus analyzers are tools that collect, analyze, decode, store signals so people can view the high-speed waveforms at their leisure. VITA offers a comprehensive FAQ to assist with the front end design and development of VME systems. Computers using a VMEbus[edit] Computers using VMEbus include: HP 743/744 PA-RISC Single-board computer[5] Sun-2 through Sun-4 HP 9000 Industrial Workstations Atari TT030 and Atari MEGA STE Motorola MVME Symbolics Advanced Numerical Research and Analysis Group's PACE. ETAS ES1000 Rapid Prototyping System Several Motorola 88000-based Data General AViiON computers Early Silicon Graphics MIPS-based systems including Professional Iris, Personal Iris, Power Series, and Onyx systems Convergent Technologies MightyFrame Pinout[edit] This section does not cite any sources. Please help improve this section by adding citations to reliable sources. Unsourced material may be challenged and removed. (May 2020) (Learn how and when to remove this template message) Seen looking into backplane socket.[6][7] P1 Pin a b c 1 D00 BBSY* D08 2 D01 BCLR* D09 3 D02 ACFAIL* D10 4 D03 BG0IN* D11 5 D04 BG0OUT* D12 6 D05 BG1IN* D13 7 D06 BG1OUT* D14 8 D07 BG2IN* D15 9 GND BG20UT* GND 10 SYSCLK G3IN* SYSFAIL* 11 GND BG3OUT* BERR* 12 DS1* BR0* SYSRESET* 13 DS0* BR1* LWORD* 14 WRITE* BR2* AM5 15 GND BR3* A23 16 DTACK* AM0 A22 17 GND AM1 A21 18 AS* AM2 A20 19 GND AM3 A19 20 IACK* GND A18 21 IACKIN* SERCLK A17 22 IACKOUT* SERDAT* A16 23 AM GND A15 24 A07 IRQ7* A14 25 A06 IRQ6* A13 26 A05 IRQ5* A12 27 A04 IRQ4* A11 28 A03 IRQ3* A10 29 A02 IRQ2* A09 30 A01 IRQ1* A08 31 ?12V +5VSTDBY +12V 32 +5V +5V +5V P2 Pin a b c 1 User Defined +5V User Defined 2 User Defined GND User Defined 3 User Defined RESERVED User Defined 4 User Defined A24 User Defined 5 User Defined A25 User Defined 6 User Defined A26 User Defined 7 User Defined A27 User Defined 8 User Defined A28 User Defined 9 User Defined A29 User Defined 10 User Defined A30 User Defined 11 User Defined A31 User Defined 12 User Defined GND User Defined 13 User Defined +5V User Defined 14 User Defined D16 User Defined 15 User Defined D17 User Defined 16 User Defined D18 User Defined 17 User Defined D19 User Defined 18 User Defined D20 User Defined 19 User Defined D21 User Defined 20 User Defined D22 User Defined 21 User Defined D23 User Defined 22 User Defined GND User Defined 23 User Defined D24 User Defined 24 User Defined D25 User Defined 25 User Defined D26 User Defined 26 User Defined D27 User Defined 27 User Defined D28 User Defined 28 User Defined D29 User Defined 29 User Defined D30 User Defined 30 User Defined D31 User Defined 31 User Defined GND User Defined 32 User Defined +5V User Defined P2 rows a and c can be used by a secondary bus, for example the STEbus. See also[edit] Data acquisition VPX VXS CompactPCI CAMAC FPDP List of device bandwidths References[edit] ^ "Versa Module Europa bus". Retrieved 8 April 2019. ^ "Long live VME!". Retrieved 8 April 2019. ^ a b c d e f g "VME Technology FAQ". Vita.com. 3 January 1999. Retrieved 1 August 2013. ^ Black, John Arthur (1992). The System engineer's handbook: a guide to building VMEbus and VXIbus systems. Morgan Kaufmann. p. 563. ISBN 978-0-12-102820-6. A team of engineers at Motorola Microsystems led by Jack Kister, designed a 68000 development system called the EXORmacs. The backplane of the EXORmacs was called VERSAbus. While coordinating the efforts of his team, Jack wrote a 41-page bus description of VERSAbus which was published in November of 1979. The first EXORmacs was shipped in January 1980. ^ "HP VME Products - Alimar Technology Corp". Alimartech.com. Retrieved 1 August 2013. ^ From Table 7 - 1 J1/P1 Pin Assignments, ANSI/VITA 1-1994 (R2002) ^ From Table 7 - 2 J2/P2 Pin Assignments, ANSI/VITA 1-1994 (R2002) External links[edit] VITA Next Generation VME VME bus pinout and signals v t e Technical and de facto standards for wired computer buses General System bus Front-side bus Back-side bus Daisy chain Control bus Address bus Bus contention Bus mastering Network on a chip Plug and play List of bus bandwidths Standards SS-50 bus S-100 bus Multibus Unibus VAXBI MBus STD Bus SMBus Q-Bus Europe Card Bus ISA STEbus Zorro II Zorro III CAMAC FASTBUS LPC HP Precision Bus EISA VME VXI VXS NuBus TURBOchannel MCA SBus VLB PCI PXI HP GSC bus InfiniBand Ethernet UPA PCI Extended (PCI-X) AGP PCI Express (PCIe) Compute Express Link (CXL) Coherent Accelerator Processor Interface (CAPI) Direct Media Interface (DMI) RapidIO Intel QuickPath Interconnect NVLink HyperTransport Infinity Fabric Intel Ultra Path Interconnect Storage ST-506 ESDI IPI SMD Parallel ATA (PATA) SSA DSSI HIPPI Serial ATA (SATA) SCSI Parallel SAS Fibre Channel SATAe PCI Express (via AHCI or NVMe logical device interface) Peripheral Apple Desktop Bus Atari SIO DCB Commodore bus HP-IL HIL MIDI RS-232 RS-422 RS-423 RS-485 Lightning DMX512-A IEEE-488 (GPIB) IEEE-1284 (parallel port) UNI/O 1-Wire I²C (ACCESS.bus, PMBus, SMBus) I3C SPI D²B Parallel SCSI Profibus IEEE 1394 (FireWire) USB Camera Link External PCIe Thunderbolt Audio ADAT Lightpipe AES3 Intel HD Audio I²S MADI McASP S/PDIF TOSLINK Portable PC Card ExpressCard Embedded Multidrop bus CoreConnect AMBA (AXI) Wishbone SLIMbus Interfaces are listed by their speed in the (roughly) ascending order, so the interface at the end of each section should be the fastest. Category v t e IEEE standards Current 488 730 754 Revision 854 828 829 896 1003 1014 1016 1076 1149.1 1154 1164 1275 1278 1284 1355 1394 1451 1497 1516 1541 1547 1584 1588 1596 1603 1613 1666 1667 1675 1685 1722 1733 1800 1801 1815 1850 1900 1901 1902 1904 1905 2030 2050 11073 12207 14764 16085 16326 29148 42010 802 series 802.1 D p Q Qav Qat Qay w X ab ad AE ag ah ak aq AS ax az BA 802.3 -1983 a b d e i j u x y z ab ac ad ae af ah ak an aq at av az ba bt by bz cg 802.11 legacy mode a b c d e f g h i j k n (Wi-Fi 4) p r s u v w y ac (Wi-Fi 5) ad af ah ai ax (Wi-Fi 6) ay be (Wi-Fi 7) .2 .4 .5 .6 .7 .8 .9 .10 .12 .14 .15 .1 .4 .4a .6 .16 Original · d · e .17 .18 .20 .21 .22 Proposed P1363 P1619 P1699 P1823 P1906.1 Superseded 754-1985 830 1219 1233 1362 1364 1471 See also IEEE Standards Association Category:IEEE standards Authority control General Integrated Authority File (Germany) National libraries United States Other Microsoft Academic Retrieved from "https://en.wikipedia.org/w/index.php?title=VMEbus&oldid=1025572367" Categories: Computer buses Experimental particle physics IEEE standards 68k architecture Hidden categories: Articles with short description Short description matches Wikidata Use dmy dates from January 2021 Use British English from September 2020 Articles lacking in-text citations from April 2009 All articles lacking in-text citations All articles with vague or ambiguous time Vague or ambiguous time from September 2020 Articles needing additional references from May 2020 All articles needing additional references Articles with GND identifiers Articles with LCCN identifiers Articles with MA identifiers Navigation menu Personal tools Not logged in Talk Contributions Create account Log in Namespaces Article Talk Variants expanded collapsed Views Read Edit View history More expanded collapsed Search Navigation Main page Contents Current events Random article About Wikipedia Contact us Donate Contribute Help Learn to edit Community portal Recent changes Upload file Tools What links here Related changes Upload file Special pages Permanent link Page information Cite this page Wikidata item Print/export Download as PDF Printable version Languages ?etina Deutsch Español Français ??? Hrvatski Italiano ??? Norsk bokmål Român? ??????? Svenska ?????????? Edit links This page was last edited on 28 May 2021, at 08:36 (UTC). Text is available under the Creative Commons Attribution-ShareAlike License; additional terms may apply. By using this site, you agree to the Terms of Use and Privacy Policy. Wikipedia® is a registered trademark of the Wikimedia Foundation, Inc., a non-profit organization. Privacy policy About Wikipedia Disclaimers Contact Wikipedia Mobile view Developers Statistics Cookie statement