I am working in Python. I have a vector of values ranging let say from 1 to 10. I want to add missing data (zero), the value is linearly interpolated - Stack Overflow
I am working in Python. I have a vector of values ranging let say from 1 to 10. I want to add missing data (zero), the value is linearly interpolated - Stack Overflow Stack Overflow About Products For Teams Stack Overflow Public questions & answers Stack Overflow for Teams Where developers & technologists share private knowledge with coworkers Jobs Programming & related technical career opportunities Talent Recruit tech talent & build your employer brand Advertising Reach developers & technologists worldwide About the company Loading… Log in Sign up current community Stack Overflow help chat Meta Stack Overflow your communities Sign up or log in to customize your list. more stack exchange communities company blog Home Public Questions Tags Users Collectives Explore Collectives Find a Job Jobs Companies Teams Stack Overflow for Teams – Collaborate and share knowledge with a private group. Create a free Team What is Teams? Teams Create free Team Collectives on Stack Overflow Find centralized, trusted content and collaborate around the technologies you use most. Learn more Teams Q&A for work Connect and share knowledge within a single location that is structured and easy to search. Learn more I am working in Python. I have a vector of values ranging let say from 1 to 10. I want to add missing data (zero), the value is linearly interpolated Ask Question Asked today Active today Viewed 27 times -1 I am working in Python. I have a vector of values ranging let say from 1 to 10. I want to add missing data (zeros), such the value is linearly interpolated: value = [2., 1., 0., 0., 0., 1., 1., 0., 0., 0.0001]
 I would like to get the missing values (zeros) through linear interpolation: value = [2., 1., 1., 1., 1., 1., 1., 0.666, 0.333, 0.0001]
 python missing-data linear-interpolation Share Follow asked 4 hours ago user17555910user17555910 1 New contributor user17555910 is a new contributor to this site. Take care in asking for clarification, commenting, and answering. Check out our Code of Conduct. 1 That's reasonable, and it's not very hard. Do you just want linear interpolation based on the adjacent values? So, you don't actually want to make a "line" from the other points? What have you tried already? – Tim Roberts 3 hours ago Add a comment | 3 Answers 3 Active Oldest Votes 1 I shouldn't do this, because it feels like it might be homework, but here is one way to do this: value = [2., 1., 0., 0., 0., 1., 1., 0., 0., 0.0001]

#value = [2., 1., 1., 1., 1., 1., 1., 0.666, 0.333, 0.0001]

newdata = []
missing = 0
for v in value:
    if v == 0.:
        missing += 1
    else:
        if missing:
            lastgood = newdata[-1]
            incr = (v - lastgood) / (missing + 1)
            for _ in range(missing):
                lastgood += incr
                newdata.append( lastgood )
            missing = 0
        newdata.append( v )
print(newdata)
 Output: [2.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.6667000000000001, 0.3334000000000001, 0.0001]
 This fails if the dataset either starts or ends with a 0. Share Follow answered 3 hours ago Tim RobertsTim Roberts 21.1k33 gold badges1515 silver badges1919 bronze badges Add a comment | 0 You can use pandas.Series.interpolate method: import pandas as pd
import numpy as np
interpolated_values = pd.Series(value).replace(0,np.nan).interpolate()
 Share Follow answered 3 hours ago Manlai AManlai A 14044 bronze badges New contributor Manlai A is a new contributor to this site. Take care in asking for clarification, commenting, and answering. Check out our Code of Conduct. Add a comment | 0 You can use scipy's interpolate import numpy as np
from scipy.interpolate import interp1d

value = [2., 1., 0., 0., 0., 1., 1., 0., 0., 0.0001]

x = np.linspace(1, len(value), num=len(value))
x1 = [x[i] for i, _ in enumerate(value) if value[i] != 0]
y1 = [v for v in value if v != 0]
f = interp1d(x1, y1)

y = f(x)
 Share Follow answered 3 hours ago michaelgbjmichaelgbj 14666 bronze badges Add a comment | Your Answer user17555910 is a new contributor. Be nice, and check out our Code of Conduct. Thanks for contributing an answer to Stack Overflow! Please be sure to answer the question. Provide details and share your research! But avoid … Asking for help, clarification, or responding to other answers. Making statements based on opinion; back them up with references or personal experience. To learn more, see our tips on writing great answers. Draft saved Draft discarded Sign up or log in Sign up using Google Sign up using Facebook Sign up using Email and Password Submit Post as a guest Name Email Required, but never shown Post as a guest Name Email Required, but never shown Post Your Answer Discard By clicking “Post Your Answer”, you agree to our terms of service, privacy policy and cookie policy Not the answer you're looking for? Browse other questions tagged python missing-data linear-interpolation or ask your own question. The Overflow Blog The four engineering metrics that will streamline your software delivery Podcast 396: Does modern parenting require spyware? Featured on Meta Reducing the weight of our footer Two B or not two B - Farewell, BoltClock and Bhargav! Community input needed: The rules for collectives articles Related 659 Python progression path - From apprentice to guru 368 How can I create an object and add attributes to it? 955 Peak detection in a 2D array 654 How to make a timezone aware datetime object in Python? 1136 "Large data" workflows using pandas 447 Python Dictionary Comprehension 429 Convert Python dict into a dataframe 1 Constraining data imputation in R 277 Detect and exclude outliers in a pandas DataFrame 3 Python pandas dataframe: interpolation using dataframe data without updating it. Just get the interpolated value. Hot Network Questions What is the difference between a waiting move and zugzwang? Why did cracks form over the rebar grid in my concrete footings? Can the 6502 clock be changed on the fly? How can I patch a hole on the underside of an inner tube? How annoying are mouse clicks on an air plane Can sound travel through light? Would authors be too powerful for your typical medieval fantasy setting? Why is TOTP two-factor digits behaviour different between Android and iOS implementations of Google Authenticator? Remote sensing of glaciers, season for data collection How did the classic Macintosh come to use Eurocard connectors? Converting polygon to list of coordinates with shapely Is it ethical to convince someone to get vaccinated? VLC won't work on Ubuntu 20.04.3 LTS Meaning of 'white mask on my otherwise tan face' How can you replace the last occurrence of a character in a string (text column)? What does it mean for Bill Gates to have an income of $0 dollars? What word would have been more appropriate than "income" is? Why was Pepsi free in 1985? Geometric conditional Probability strcat_new() function, not present in standard C library Is there any means to improve vehicle use other than the artificer's 6th-level Tool Expertise feature? How to correctly use lists inside Compile How do I email other students in my online classes, to make friends, without appearing creepy? How to justify burning people for energy? How does a smart contract "run on a blockchain" under-the-hood? more hot questions Question feed Subscribe to RSS Question feed To subscribe to this RSS feed, copy and paste this URL into your RSS reader. lang-py Stack Overflow Questions Jobs Developer Jobs Directory Salary Calculator Help Mobile Products Teams Talent Advertising Enterprise Company About Press Work Here Legal Privacy Policy Terms of Service Contact Us Cookie Settings Cookie Policy Stack Exchange Network Technology Culture & recreation Life & arts Science Professional Business API Data Blog Facebook Twitter LinkedIn Instagram site design / logo © 2021 Stack Exchange Inc; user contributions licensed under cc by-sa. rev 2021.11.30.40849 Stack Overflow works best with JavaScript enabled Your privacy By clicking “Accept all cookies”, you agree Stack Exchange can store cookies on your device and disclose information in accordance with our Cookie Policy. Accept all cookies Customize settings